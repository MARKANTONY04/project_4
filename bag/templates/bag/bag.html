{% extends "base.html" %}
{% block title %}Your Bag{% endblock %}

{% block content %}
<div class="container mt-5">
  <h1 class="mb-4">Your Bag</h1>

  {% if bag_items %}
    <ul class="list-group">
      {% for item in bag_items %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          {% if request.user.is_authenticated %}
            {{ item.subscription.name|default:item.gym_class.name|default:item.guide.title }}
            <span class="badge badge-primary badge-pill">x {{ item.quantity }}</span>
          {% else %}
            {{ item.name }}
            <span class="badge badge-primary badge-pill">x {{ item.quantity }}</span>
          {% endif %}
        </li>
      {% endfor %}
    </ul>
    <div class="mt-4 text-right">
      <a href="{% url 'checkout:checkout' %}" class="btn btn-success">Proceed to Checkout</a>
    </div>
  {% else %}
    <p>Your bag is empty. <a href="{% url 'services:services_list' %}">Browse our services</a></p>
  {% endif %}
</div>
{% endblock %}
